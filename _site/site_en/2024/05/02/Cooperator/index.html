<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Every failure is leading towards success.">
    <meta name="keywords"  content="JY Blog, Johnny的博客, iOS, Apple, iPhone">
    <meta name="theme-color" content="#000000">
    
    <title>Cooperator - Fully automated github repo translator - Johnny的博客 | JY Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Safari Webpage Icon    by-BY -->
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/site_en/2024/05/02/Cooperator/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">JY Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/site_en/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/site_zh/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/site_zh/experience/">Experience</a>
                    </li>
                    
                    <li>
                        <a href="/site_en/experience/">Experience</a>
                    </li>
                    
                    <li>
                        <a href="/site_en/tags/">Tags</a>
                    </li>
                    
                    <li>
                        <a href="/site_zh/tags/">Tags</a>
                    </li>
                    
                    <!-- Language Switch Button -->
                    <!-- <li>
                        <a href="/">English</a>
                    </li> -->
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-rwd.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-rwd.jpg')
    }

    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#Django" title="Django">Django</a>
                        
                        <a class="tag" href="/tags/#Sqlite" title="Sqlite">Sqlite</a>
                        
                        <a class="tag" href="/tags/#LLM" title="LLM">LLM</a>
                        
                        <a class="tag" href="/tags/#Azure" title="Azure">Azure</a>
                        
                        <a class="tag" href="/tags/#Github" title="Github">Github</a>
                        
                        <a class="tag" href="/tags/#Project" title="Project">Project</a>
                        
                    </div>
                    <h1>Cooperator - Fully automated github repo translator</h1>
                    
                    
                    <h2 class="subheading">2024 Summer Project</h2>
                    
                    <span class="meta">Posted by JY on May 2, 2024</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<h1 id="localizing-github-repositories-with-llms">Localizing GitHub Repositories with LLMs</h1>

<p>Many established software teams work across multiple locations, basing their work on GitHub repositories. Such teams consist of people across different languages and cultures.</p>

<p>It is common practice for large repositories to undergo localization procedures, which involves translating documentation files in such a way that preserve the context of work.</p>

<p>For example, if you had the following Python code in English:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># test the Python print function
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello World</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>It would look like this in French:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># tester la fonction print en Python
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Bonjour le monde</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>While this is a simple example, there exist small nuances that require us to pay attention to the context of the example. For example, the Python function <code class="language-plaintext highlighter-rouge">print</code> cannot be translated into another language. The hash (#), that denotes the comment also has to be left unmodified even during the translation. Paying attention to small details is not something conventional machine translation methods (used in tools such as Google Translate) are developed for.</p>

<p>Given the nature of this work, localization is not a trivial task. At Microsoft, there are localization teams hired to produce culturally and professionally accurate versions of documentation, reports, and guides for codebases. Tasks like these can take up to several months to finish.</p>

<p>Fortunately, this task is something large language models (LLMs) excel at compared to machine translation, as they process tokens of text in a context window. LLMs use attention mechanisms to weigh the relevance of each token relative to others in the sequence, allowing them to capture nuanced meanings and contextual dependencies effectively.</p>

<p><img src="http://localhost:4000/assets/cooperator/adv_of_lms.png" alt="advantages of lm" /></p>

<p>Our team at Imperial College London has worked with Microsoft to realize the potential of LLMs in the localization process, including noting any interesting behaviors and useful takeaways of what is currently possible with existing technologies provided by Azure and OpenAI.</p>

<h2 id="introducing-a-proof-of-concept-github-app">Introducing a Proof-of-Concept GitHub App</h2>

<p>As part of the project, our team built a simple GitHub app based off Django and React, with the former framework utilizing Python to quickly build and iterate an app that would look for a configuration file on an installed GitHub repository, and then Markdown files on the repo.</p>

<p>The app opts for a simple configuration:</p>

<ul>
  <li>We use English as the universal language (although theoretically, we can have this set to any other language). Any translations made by the app are stored in a separate branch that follows the main branch. Every time main is updated by the user, the app pushes to the translation branch and makes a PR to main.</li>
  <li>A yml configuration file lists the directory of the documentation folder and the desired languages to be translated into.</li>
  <li>Any <code class="language-plaintext highlighter-rouge">README.md</code> files in the repository are automatically translated – the translated READMEs are placed in a folder of translations adjacent to the original <code class="language-plaintext highlighter-rouge">README.md</code> file in English.</li>
  <li>All markdown files in the documentation directory are automatically translated. The documentation directory also contains translation folders by language. Each translation folder mirrors the structure of the documentation directory in English.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/project_root
    /docs
        /installation.md
        /screenshot.png
        /api
            /services.md
        /usage.md
        /fr
            /installation.md
            /usage.md
            /api
                /services.md
        /es
            /installation.md
            /usage.md
            /api
                /services.md
        /translated_images
            /screenshot&lt;hash&gt;.fr.png
            /screenshot&lt;hash&gt;.es.png
    /src
        /readme.md
        /readme_img.png
        /translations
            /readme.fr.md
            /readme.es.md
        /translated_images
            /readme_img&lt;hash&gt;.fr.png
            /readme_img&lt;hash&gt;.es.png
</code></pre></div></div>

<p><img src="http://localhost:4000/assets/cooperator/app_structure.png" alt="app structure" /></p>

<h2 id="properly-translating-a-markdown-file">Properly Translating a Markdown File</h2>

<p>There are three aspects to translating a markdown file:</p>

<ol>
  <li>Getting the text translations correct</li>
  <li>Getting the code block translations precise</li>
  <li>Translating the images in the Markdown file.</li>
</ol>

<h3 id="text-translation">Text Translation</h3>

<p>This was a relatively straightforward task requiring minimal prompting – our tests with GPT models were generally very accurate (even with RTL languages like Arabic). At the time of testing, GPT-4o and GPT-4 were accurate most of the time for high-resource languages and performed moderately on low-resource languages. GPT-3.5 performed adequately for common high-resource languages but struggled with low-resource languages.</p>

<p>This article covers a deeper definition of low-resource languages, which tend to be less commonly spoken in the world. Naturally, there is a lack of training data in such low-resource languages used to train language models, which leads to poorer performance in tasks that involve low-resource languages compared to completing tasks in high-resource languages. This behavior is observed in many leading LLMs today, such as from Claude, Llama, Mistral, and GPT. There exist initiatives such as Cohere for AI that try to solve the low-resource language problem with dedicated multilingual models such as Aya, but they are out of the scope of this article.</p>

<h3 id="code-block-translation">Code Block Translation</h3>

<p>To our surprise, translating code blocks in Markdown came naturally to most LLMs. Since a lot of training data for GPTs consist of a lot of code, the GPT models perform very well on translating comments while preserving the structure of code syntax in code blocks.</p>

<h3 id="image-translation">Image Translation</h3>

<p><img src="http://localhost:4000/assets/cooperator/image_translation.png" alt="app structure" /></p>

<p>Markdown files can contain images – in most cases these images are stored locally within the repository. All the images in the repository get translated and their translated copies are stored within the repo, and then after the Markdown files are translated, regex is used to find all image links and replace them with their translated variants.</p>

<p>Current state of the art diffusion cannot be reliably prompted to generate translated versions of images due to their probabilistic nature – they are good at generating new images from scratch but cannot imitate the structure of previous images.</p>

<p>Generating new images would also be computationally expensive, so we developed a novel way of using a mix of OCR services and GPT models to translate images:</p>

<ol>
  <li>Use Azure’s Image Analysis API to detect text lines and their bounding boxes</li>
  <li>Feed the detected text lines into GPT to be translated</li>
  <li>Replace each text line with translated variant</li>
</ol>

<p>This is not a perfect solution, but text replacement works. It was also agreed with our supervisor that overlaying text would be more legally feasible because there was no generation of new images of similar likeness, which carries copyright implications.</p>

<h2 id="more-detailed-information-about-the-app">More Detailed Information about the App</h2>

<ul>
  <li>Django backend, React frontend</li>
</ul>

<h3 id="translation-process">Translation Process</h3>
<h4 id="installation">Installation</h4>
<p>Users start by installing GitHub app on repositories or organization selected, those repositories will be recorded in SQLite database, and displayed on webpage once you logged in. A robot account will be invited to those repositories.</p>

<h4 id="initial-translation">Initial Translation</h4>
<p>Once you activate translation on webpage, a new branch “co-op-translator” will be created, then all document files/images will be read and translated by backend server, then uploaded to the new branch. Pull request will then be created from “co-op-translator” to main branch. Note that all changes to repositories will be performed by the robot account, as it’s easier to manage.</p>

<h4 id="tracking-stage">Tracking Stage</h4>
<p>Repositories will be further tracked. GitHub app is subscribed to events (main branch update, delete of pull requests), modified or added document in new commit will be translated and updated on the “co-op-translator” branch, old pull request will be replaced by a new one.</p>

<h3 id="edge-cases-and-interesting-behavior">Edge Cases and Interesting Behavior</h3>

<ul>
  <li><strong>Fixed:</strong> The GPT model would hallucinate translated short 1-liner markdown files:
    <ul>
      <li><strong>INPUT:</strong>
        <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># Example Hello World in Markdown</span>
</code></pre></div>        </div>
      </li>
      <li><strong>OUTPUT (translated into Spanish):</strong>
        <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># Ejemplo de "Hello World" en Markdown</span>
    
Este es un archivo <span class="se">\`</span>README.md<span class="se">\`</span> simple para demostrar el formato de Markdown en GitHub.
    
<span class="gu">## Características</span>
    
Este documento incluye:
<span class="p">-</span> Etiquetas de <span class="gs">**encabezado**</span> (<span class="se">\`</span>#<span class="se">\`</span>)
<span class="p">-</span> <span class="gs">**Bloque de código**</span> para resaltado de sintaxis
<span class="p">-</span> Formato en <span class="gs">**negrita**</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<p>We tried to prompt the model with the prompt:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>“NEVER ADD ANY EXTRA CONTENT OUTSIDE THE TRANSLATION. TRANSLATE ONLY WHAT IS GIVEN TO YOU. MAINTAIN MARKDOWN FORMAT”
</code></pre></div></div>

<p>This worked, but the model would fail to translate longer files properly. So, we have a dynamic prompt – for files with less than 2 lines, we use the prompt for shorter files, and for files with more than 2 lines, we use the original prompt.</p>

<p><strong>Issues in Image Context:</strong> Sometimes due to the way image text is extracted, they are parsed line by line in order of appearance from left to right, then top to bottom. However, this order might not reflect the structure of objects in the text, and sometimes context can be confusing to the model as it has no spatial awareness of the text.</p>

<ul>
  <li>
    <p><strong>Example Image, two cards of text:</strong></p>

    <p><img src="http://localhost:4000/assets/cooperator/two_cards.png" alt="app structure" /></p>

    <ul>
      <li>Extracted Text (-&gt; French translation)
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Section 1: -&gt; Section 1:
Section 2: -&gt; Section 2:
My favourite tech -&gt; Ma technologie préférée
My favourite fruit -&gt; Mon fruit préféré:
company: Apple -&gt; société: Apple
: Apple -&gt; : Apple? Pomme?
</code></pre></div>        </div>
      </li>
      <li>
        <p>Expected Output
<img src="http://localhost:4000/assets/cooperator/expected_output.png" alt="app structure" /></p>
      </li>
      <li>Actual Output (using line to line replacement)
<img src="http://localhost:4000/assets/cooperator/actual_output.png" alt="app structure" /></li>
    </ul>
  </li>
</ul>

<p>Note that the translation of “Apple” could be confused between either the company name in French (also called Apple), or the fruit (pomme). Note that there is also a small grammatical error as ‘tech company’ has been split up, so the context has lost track of the lines. This is because ‘tech company’ is reversed in French to be ‘société tech’ or ‘company tech’.</p>

<h2 id="examples">Examples</h2>

<p>Take this example, of a Microsoft Guide for Generative AI in English. This is the app’s translated French version. Note that translations do not work with externally linked images.</p>


                <hr style="visibility: hidden;">

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2024/05/02/Cooperator/" data-toggle="tooltip" data-placement="top" title="Cooperator - Fully automated github repo translator">
                        Previous<br>
                        <span>Cooperator - Fully automated github repo translator</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2024/07/02/omnigame/" data-toggle="tooltip" data-placement="top" title="Omnigame Internship">
                        Next<br>
                        <span>Omnigame Internship</span>
                        </a>
                    </li>
                    
                </ul>


                <!--Gitalk评论start  -->
                
                <!-- 引入Gitalk评论插件  -->
                <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
                <script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
                <div id="gitalk-container"></div>
                <!-- 引入一个生产md5的js，用于对id值进行处理，防止其过长 -->
                <!-- Thank DF:https://github.com/NSDingFan/NSDingFan.github.io/issues/3#issuecomment-407496538 -->
                <script src="/js/md5.min.js"></script>
                <script type="text/javascript">
                    var gitalk = new Gitalk({
                    clientID: 'Ov23liLs16lTaGFmf9vR',
                    clientSecret: '690847c707f16bf3697e4446e67f90f9dddc6161',
                    repo: 'Johnny1882.github.io',
                    owner: 'Johnny1882',
                    admin: ['Johnny1882'],
                    distractionFreeMode: true,
                    id: md5(location.pathname),
                    });
                    gitalk.render('gitalk-container');
                </script>
                
                <!-- Gitalk end -->

                

            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#C#" title="C#" rel="10">
                                    C#
                                </a>
                            
        				
                            
                				<a href="/tags/#Unity" title="Unity" rel="8">
                                    Unity
                                </a>
                            
        				
                            
                				<a href="/tags/#Python" title="Python" rel="2">
                                    Python
                                </a>
                            
        				
                            
                				<a href="/tags/#AWS" title="AWS" rel="2">
                                    AWS
                                </a>
                            
        				
                            
                				<a href="/tags/#Project" title="Project" rel="4">
                                    Project
                                </a>
                            
        				
                            
                				<a href="/tags/#Pytorch" title="Pytorch" rel="2">
                                    Pytorch
                                </a>
                            
        				
                            
                				<a href="/tags/#Machine Learning" title="Machine Learning" rel="2">
                                    Machine Learning
                                </a>
                            
        				
                            
                				<a href="/tags/#Internship" title="Internship" rel="4">
                                    Internship
                                </a>
                            
        				
                            
                				<a href="/tags/#Django" title="Django" rel="2">
                                    Django
                                </a>
                            
        				
                            
                				<a href="/tags/#Sqlite" title="Sqlite" rel="2">
                                    Sqlite
                                </a>
                            
        				
                            
                				<a href="/tags/#LLM" title="LLM" rel="2">
                                    LLM
                                </a>
                            
        				
                            
                				<a href="/tags/#Azure" title="Azure" rel="2">
                                    Azure
                                </a>
                            
        				
                            
                				<a href="/tags/#Github" title="Github" rel="2">
                                    Github
                                </a>
                            
        				
                            
                				<a href="/tags/#游戏开发" title="游戏开发" rel="4">
                                    游戏开发
                                </a>
                            
        				
                            
                				<a href="/tags/#Data Stream" title="Data Stream" rel="2">
                                    Data Stream
                                </a>
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
                    
                        <li><a href="https://www.linkedin.com/in/junyi-wu-a83133249/">LinkedIn</a></li>
                    
                        <li><a href="https://github.com/Johnny1882">github</a></li>
                    
                        <li><a href="https://apple.com">Apple</a></li>
                    
                        <li><a href="https://developer.apple.com/">Apple Developer</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>






<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        // BY Fix:去除标题前的‘#’ issues:<https://github.com/qiubaiying/qiubaiying.github.io/issues/137>
        // anchors.options = {
        //   visible: 'always',
        //   placement: 'right',
        //   icon: '#'
        // };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <!-- add jianshu add target = "_blank" to <a> by BY -->
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/Johnny1882">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; JY Blog 2024
                    <br>
                    Theme on <a href="https://github.com/Johnny1882/Johnny1882.github.io.git">GitHub</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=Johnny1882&repo=Johnny1882.github.io&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script type="text/javascript">
    if(navigator.serviceWorker){
        // For security reasons, a service worker can only control the pages that are in the same directory level or below it. That's why we put sw.js at ROOT level.
        navigator.serviceWorker
            .register('/sw.js')
            .then((registration) => {console.log('Service Worker Registered. ', registration)})
            .catch((error) => {console.log('ServiceWorker registration failed: ', error)})
    }
</script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/ 
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers   
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async('/js/jquery.tagcloud.js',function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->




<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<img src="/img/apple-touch-icon.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
